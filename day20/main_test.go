package main

import (
	. "aoc"
	. "aoc/types"
	"strings"
	"testing"
)

func TestFindMonster(t *testing.T) {
    input :=
`.#.#..#.##...#.##..#####
###....#.#....#..#......
##.##.###.#.#..######...
###.#####...#.#####.#..#
##.#....#.##.####...#.##
...########.#....#####.#
....#..#...##..#.#.###..
.####...#..#.....#......
#..#.##..#..###.#.##....
#.####..#.####.#.#.###..
###.#.#...#.######.#..##
#.####....##..########.#
##..##.#...#...#.#.#.#..
...#..#..#.#.##..###.###
.#.#....#.##.#...###.##.
###.#...#..#.##.######..
.#.#.###.##.##.#..#.##..
.####.###.#...###.#..#.#
..#.#..#..#.#.#.####.###
#..####...#.#.#.###.###.
#####..#####...###....##
#.##..#..#...#..####...#
.#.###..##..##..####.##.
...###...##...#...#..###`

    sea := strings.Split(input, "\n")

	m := NewMatrix(96,96)
	for y,r := range sea {
		for x,c := range r {
			m.Set(Point{X:x, Y: y}, int(c))
		}
	}

	for i:=0; i<2; i++ {
		FindMonsters(m.ToStringSlice())
		for j := 0; j < 3; j++ {
			m.Rotate()
			FindMonsters(m.ToStringSlice())
		}
		m.Flip()
	}

	AssertEq(t, FindMonster(sea), true)
}
