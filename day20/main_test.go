package main

import (
	. "aoc"
	"fmt"
	"testing"
)

func Test(t *testing.T) {
	s :=
`.#.#..#.##...#.##..#####
###....#.#....#..#......
##.##.###.#.#..######...
###.#####...#.#####.#..#
##.#....#.##.####...#.##
...########.#....#####.#
....#..#...##..#.#.###..
.####...#..#.....#......
#..#.##..#..###.#.##....
#.####..#.####.#.#.###..
###.#.#...#.######.#..##
#.####....##..########.#
##..##.#...#...#.#.#.#..
...#..#..#.#.##..###.###
.#.#....#.##.#...###.##.
###.#...#..#.##.######..
.#.#.###.##.##.#..#.##..
.####.###.#...###.#..#.#
..#.#..#..#.#.#.####.###
#..####...#.#.#.###.###.
#####..#####...###....##
#.##..#..#...#..####...#
.#.###..##..##..####.##.
...###...##...#...#..###`

	sea := toRuneSlices(Lines(s))
	// Rotate, Flip, until we find the monsters
	for i:=0; i<2; i++ {
		for j := 0; j < 3; j++ {
			PrintMap(sea)
			fmt.Println()
			if Roughness(sea) > 0 {
				panic("solved")
			}
			sea = Rotate(sea)
		}
		sea = Flip(sea)
	}
}

func toRuneSlices(ss []string) [][]rune {
	a := Make2DRuneSlice(len(ss), len(ss[0]))
	for y, r := range ss {
		for x, c := range r {
			a[y][x] = c
		}
	}
	return a
}
